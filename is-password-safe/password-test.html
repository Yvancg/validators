<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Password Validator — is-password-safe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --fg:#0b0b0c; --bg:#f8fafc; --border:#e5e7eb; --muted:#6b7280; --ok:#0b8a27; --bad:#b00020; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; margin:0; background:var(--bg); color:var(--fg); }
    header { padding:18px 20px; background:#fff; border-bottom:1px solid var(--border); }
    main { max-width:900px; margin:24px auto; padding:0 16px 48px; }
    h1 { margin:0; font-size:20px; }
    .card { background:#fff; border:1px solid var(--border); border-radius:12px; padding:16px; margin-top:16px; }
    input, textarea { width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px; font-size:14px; }
    .controls { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .btn { padding:10px 14px; border:1px solid var(--border); background:#111827; color:#fff; border-radius:10px; cursor:pointer; font-size:14px; }
    .btn.alt { background:#fff; color:#111827; }
    .pill { font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); }
    .ok { color:var(--ok); }
    .bad { color:var(--bad); }
    .chips { display:flex; gap:6px; flex-wrap:wrap; }
    .chip { padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:#fff; cursor:pointer; font-size:12px; }
    ul { margin:6px 0 0 18px; padding:0; }
    code { background:#f3f4f6; padding:2px 6px; border-radius:6px; }
    pre { background:#f9fafb; padding:10px; border-radius:10px; overflow:auto; font-size:13px; }
    footer { margin-top:32px; font-size:12px; color:var(--muted); }
  </style>
</head>
<body>
  <header>
    <h1>Password Validator — <code>is-password-safe/password.js</code></h1>
  </header>
  <main>
    <div class="card">
      <label for="pw">Password</label>
      <input id="pw" type="password" placeholder="Type a password" value="Aj4?mX9^kL3!yZ" />
      <div class="controls">
        <button id="btn-validate" class="btn">Validate</button>
        <button id="btn-clear" class="btn alt">Clear</button>
      </div>
    </div>

    <div class="card">
      <label>Examples</label>
      <div id="examples" class="chips"></div>
    </div>

    <div class="card">
      <label>Result</label>
      <div id="result">Run a validation.</div>
    </div>

    <footer>
      Generated: <span id="today"></span> — Compatible with <code>is-password-safe/password.js</code>
    </footer>
  </main>

  <script type="module">
    import { validatePassword } from './password.js';

    const $ = id => document.getElementById(id);
    $('today').textContent = new Date().toISOString().slice(0,10);

    const EXAMPLES = {
      'Weak: short': 'Ab1!',
      'Weak: dictionary': 'Password1234!',
      'Weak: sequence': 'Abcd1234!!!!',
      'Weak: repeated': 'AbcAbcAbcAbc1!',
      'Strong': 'Aj4?mX9^kL3!yZ'
    };

    const exWrap = $('examples');
    for (const [label, value] of Object.entries(EXAMPLES)) {
      const b = document.createElement('button');
      b.className = 'chip';
      b.textContent = label;
      b.addEventListener('click', () => {
        $('pw').value = value;
        run();
      });
      exWrap.appendChild(b);
    }

    $('btn-validate').addEventListener('click', run);
    $('btn-clear').addEventListener('click', () => {
      $('pw').value = '';
      renderMessage('Cleared.');
    });

    function run() {
      const input = $('pw').value;
      const res = validatePassword(input);
      renderResult(res);
    }

    function renderMessage(msg) {
      const el = $('result');
      el.replaceChildren();
      const p = document.createElement('p');
      p.textContent = msg;
      el.appendChild(p);
    }

    function renderResult(res) {
      const el = $('result');
      el.replaceChildren();

      const badge = document.createElement('div');
      badge.innerHTML = `<span class="pill ${res.ok ? 'ok' : 'bad'}">${res.ok ? 'SAFE' : 'NOT SAFE'}</span>`;
      el.appendChild(badge);

      const pre = document.createElement('pre');
      pre.textContent = JSON.stringify(res, null, 2);
      el.appendChild(pre);
    }

    run();
  </script>
</body>
</html>